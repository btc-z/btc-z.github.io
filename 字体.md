# 字体配置

## 当前设置

博客通过 CSS 和 MkDocs Material 主题配置自定义字体：

- **中文**：马善政 - 艺术手写风格
- **英文**：Lora - 优雅衬线字体
- **代码块**：Fira Code - 现代等宽字体，支持连字

## 工作原理

### 1. 字体加载（CSS）
字体通过 Google Fonts CDN 在 `docs/stylesheets/extra.css` 中加载：

```css
@import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap');
```

### 2. 字体应用
使用 CSS 变量和选择器应用字体栈：

```css
:root {
  --md-text-font: "Lora", "Ma Shan Zheng", cursive;
  --md-code-font: "Fira Code", monospace;
}
```

字体顺序很重要：英文文本首先使用 Lora，然后对中文字符回退到马善政。

### 3. MkDocs 配置
在 `mkdocs.yml` 中，禁用默认的 Material 字体：

```yaml
theme:
  font: false  # 禁用默认字体以使用自定义字体
```

并加载自定义 CSS：

```yaml
extra_css:
  - stylesheets/extra.css
```

## 更改字体

### 方式一：使用 Google Fonts

**步骤：**
1. 在 [Google Fonts](https://fonts.google.com/) 找到你想要的字体
2. 更新 `docs/stylesheets/extra.css` 中的 `@import` URL
3. 在 CSS 变量和选择器中更新字体名称

**示例 - 将中文字体改为霞鹜文楷：**

```css
/* 替换导入 */
@import url('https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css');

/* 更新字体栈 */
:root {
  --md-text-font: "Lora", "LXGW WenKai", serif;
}

body,
.md-typeset {
  font-family: "Lora", "LXGW WenKai", serif;
}
```

### 方式二：使用本地字体

如果你有字体文件（.woff2, .ttf）：

1. 创建 `docs/fonts/` 目录
2. 将字体文件放在那里
3. 更新 `docs/stylesheets/extra.css`：

```css
@font-face {
  font-family: 'CustomFont';
  src: url('../fonts/customfont.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
}
```

## 热门字体推荐

### 中文字体
- **霞鹜文楷 (LXGW WenKai)** - 优雅手写体，易读性好
- **思源黑体 (Noto Sans CJK SC)** - 现代无衬线，专业感强
- **思源宋体 (Noto Serif CJK SC)** - 传统衬线，正式庄重
- **志满星 (Zhi Mang Xing)** - 随性手写风格
- **刘建毛草 (Liu Jian Mao Cao)** - 艺术草书风格
- **马善政 (Ma Shan Zheng)** - 活泼手写风格（当前使用）

### 英文字体
- **Inter** - 现代无衬线，屏幕显示优秀
- **Merriweather** - 温暖衬线，易读性好
- **Georgia** - 经典网页衬线
- **Roboto** - 简洁无衬线
- **Lora** - 优雅现代衬线（当前使用）

### 代码字体
- **Fira Code** - 支持连字，程序员最爱（当前使用）
- **JetBrains Mono** - 开发者喜爱
- **Cascadia Code** - 微软现代选择
- **Source Code Pro** - Adobe 经典等宽字体

## 测试更改

修改字体后：

1. 运行本地开发服务器：
   ```bash
   make serve
   ```

2. 打开 http://127.0.0.1:8000/

3. 检查：
   - 中英文渲染效果
   - 标题和正文
   - 代码块
   - 不同字重（粗体、斜体）

## 常见问题

**字体无法加载：**
- 检查浏览器控制台的网络错误
- 验证字体 URL 是否可访问
- 清除浏览器缓存

**中文字符显示错误字体：**
- 检查 CSS 中的字体顺序（英文字体应该在前）
- 验证中文字体是否支持简体/繁体字符

**性能问题：**
- 考虑减少字重数量
- 在 @import URL 中使用 `font-display: swap`
- 自托管字体而非使用 CDN 以加快加载速度

## 文件参考

- **字体 CSS**：`docs/stylesheets/extra.css`
- **MkDocs 配置**：`mkdocs.yml`（第 21、71-72 行）
- **本文档**：`字体.md`
- **英文版本**：`FONT.md`
